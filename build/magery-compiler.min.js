var MageryCompiler=function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={exports:{},id:a,loaded:false};t[a].call(n.exports,n,n.exports,r);n.loaded=true;return n.exports}r.m=t;r.c=e;r.p="";return r(0)}([function(module,exports,__webpack_require__){exports.compileToString=__webpack_require__(1).compileToString;exports.compile=function(target,templates,runtime){runtime=runtime||window.Magery;templates=templates||{};if(typeof target==="string"){return exports.compile(document.querySelectorAll(target),templates,runtime)}var compiled=eval(exports.compileToString(target))(runtime);for(var k in compiled){templates[k]=compiled[k]}return templates}},function(t,e,r){var a=r(2);var n=r(3);var i=["data-tagname","data-each","data-if","data-unless","data-key"];function u(t){return"p.lookup(data, "+JSON.stringify(t)+")"}function o(t){var e=[];a.eachAttribute(t,function(t,r){if(i.indexOf(t)===-1&&t.substr(0,2)!=="on"){e.push(JSON.stringify(t)+": "+c(r))}});return"{"+e.join(", ")+"}"}function f(t,e){var r=e.indexOf("(");var a=e.lastIndexOf(")");var n=e.substring(0,r);var i=e.substring(r+1,a);return"p.eventListener("+JSON.stringify(t)+", "+JSON.stringify(n.split("."))+", "+JSON.stringify("["+i+"]")+", "+"data, "+"handlers);\n"}function s(t){var e="";a.eachAttribute(t,function(t,r){var a=t.match(/^on(.*)/);if(a){e+=f(a[1],r)}});return e}function l(t,e,r,l){if(t.tagName==="TEMPLATE-EMBED"){return}if(t.tagName==="TEMPLATE-CHILDREN"){r("inner();\n");return}if(!l&&t.tagName==="TEMPLATE"&&t.getAttribute("data-tagname")){e.push(t);return}if(t.getAttribute("data-each")){var d=t.getAttribute("data-each").split(/\s+in\s+/);var p=d[0];var m=a.propertyPath(d[1]);r("p.each("+"data, "+JSON.stringify(p)+", "+u(m)+", "+"function (data) {\n")}if(t.getAttribute("data-if")){var v=a.propertyPath(t.getAttribute("data-if"));r("if (p.isTruthy("+u(v)+")) {\n")}if(t.getAttribute("data-unless")){var h=a.propertyPath(t.getAttribute("data-unless"));r("if (!p.isTruthy("+u(h)+")) {\n")}var y=t.tagName=="TEMPLATE"&&t.content?t.content.childNodes:t.childNodes;var b=true;if(t.tagName=="TEMPLATE-CALL"){r("p.render("+"templates"+", "+c(t.getAttribute("template"))+", "+o(t)+", handlers"+", "+(t.getAttribute("data-key")?c(t.getAttribute("data-key")):"null")+", function () {"+s(t)+"}"+(y.length?", p.wrapChildren(function (p) {":");")+"\n");b=false}else if(t.tagName.indexOf("-")!==-1){r("p.render("+"templates"+", "+JSON.stringify(t.tagName.toLowerCase())+", "+o(t)+", handlers"+", "+(t.getAttribute("data-key")?c(t.getAttribute("data-key")):"null")+", function () {"+s(t)+"}"+(y.length?", p.wrapChildren(function (p) {":");")+"\n");b=false}else{var A=t.tagName;if(A==="TEMPLATE"&&t.getAttribute("data-tagname")){A=t.getAttribute("data-tagname").toUpperCase()}if(l){if(t.getAttribute("data-key")){r("p.enterTag("+JSON.stringify(A)+", "+"root_key || "+c(t.getAttribute("data-key"))+");\n")}else{r("p.enterTag("+JSON.stringify(A)+", root_key || null);\n")}}else if(t.getAttribute("data-key")){r("p.enterTag("+JSON.stringify(A)+", "+c(t.getAttribute("data-key"))+");\n")}else{r("p.enterTag("+JSON.stringify(A)+", null);\n")}a.eachAttribute(t,function(t,e){if(t==="data-template"){t="data-bind"}if(i.indexOf(t)!==-1){return}var a=t.match(/^on(.*)/);if(a){r(f(a[1],e))}else if(n.attributes[t]&n.BOOLEAN_ATTRIBUTE){if(e===""){r("p.attribute("+JSON.stringify(t)+", true);\n")}else{r("if (p.isTruthy("+c(e)+")) {\n");r("p.attribute("+JSON.stringify(t)+", true);\n");r("}\n")}}else{r("p.attribute("+JSON.stringify(t)+", "+c(e)+");\n")}});if(l){r("if (extra_attrs) { extra_attrs(); }\n")}}a.eachNode(y,function(t){g(t,e,r,false)});if(b){r("p.exitTag();\n")}else if(y.length){r("}));\n")}if(t.getAttribute("data-unless")){r("}\n")}if(t.getAttribute("data-if")){r("}\n")}if(t.getAttribute("data-each")){r("});\n")}}function c(t,e){var r=t.split(/{{\s*|\s*}}/);var n=r.length;var i=-1;while(++i<n){if(i%2){var o=a.propertyPath(r[i]);r[i]=o}}if(n==1&&!r[0]&&e){return"true"}var f=[];var s=-1;while(++s<n){if(r[s].length){f.push(s%2?u(r[s]):JSON.stringify(r[s]))}}if(!f.length){return JSON.stringify("")}return f.join(" + ")}function d(t,e){var r=c(t.textContent);if(r[0]!=='"'){r='""+'+r}if(t.parentNode.tagName==="TEXTAREA"){e('p.attribute("value", '+r+");\n")}else{e("p.text("+r+");\n")}}function p(t,e,r){a.eachNode(t.childNodes,function(t){g(t,e,r,false)})}function g(t,e,r,a){switch(t.nodeType){case 1:l(t,e,r,a);break;case 3:d(t,r);break;case 11:p(t,e,r);break}}function m(t){}e.compile=function(t,e){var r=[];if(!(t instanceof NodeList)){t=[t]}for(var a=0,n=t.length;a<n;a++){var i=t[a];g(i,r,m,!(i.tagName=="TEMPLATE"&&i.hasAttribute("data-tagname")))}e("({\n");while(r.length){i=r.shift();if(i.getAttribute("data-tagname").indexOf("-")===-1){throw new Error("Error compiling template '"+i.getAttribute("data-tagname")+"': data-tagname must include a hyphen")}e(JSON.stringify(i.getAttribute("data-tagname"))+": ");e("Magery._template("+"function (p, data, handlers, root_key, extra_attrs, inner) {\n");e("var templates = this;\n");g(i,r,e,true);e("})"+(r.length?",":"")+"\n")}e("})\n")};e.compileToString=function(t){var r="(function (Magery) { return ";e.compile(t,function(t){r+=t});return r+"})"}},function(t,e){var r=1;var a=3;var n=11;e.isDocumentFragment=function(t){return t.nodeType===n};e.isElementNode=function(t){return t.nodeType===r};e.isTextNode=function(t){return t.nodeType===a};e.eachNode=function(t,e){var r=0;var a=t[0];while(a){var n=a;a=a.nextSibling;e(n,r++,t)}};e.mapNodes=function(t,r){var a=[];e.eachNode(t,function(e,n){a[n]=r(e,n,t)});return a};e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};e.propertyPath=function(t){return t.split(".").filter(function(t){return t})};e.lookup=function(t,e){var r=t;for(var a=0,n=e.length;a<n;a++){if(r===undefined||r===null){return""}r=r[e[a]]}return r===undefined||r===null?"":r};e.templateTagName=function(t){var e=/^TEMPLATE-([^\s/>]+)/.exec(t.tagName);return e&&e[1].toLowerCase()};e.shallowClone=function(t){var e={};for(var r in t){e[r]=t[r]}return e};e.eachAttribute=function(t,e){var r=t.attributes;for(var a=0,n=t.attributes.length;a<n;a++){e(t.attributes[a].name,t.attributes[a].value)}}},function(t,e){var r=e.BOOLEAN_ATTRIBUTE=1;var a=e.USE_PROPERTY=2;var n=e.USE_STRING=4;e.attributes={allowfullscreen:r,async:r,autofocus:r,autoplay:r,capture:r,checked:r|a,controls:r,default:r,defer:r,disabled:r,formnovalidate:r,hidden:r,itemscope:r,loop:r,multiple:r|a,muted:r|a,novalidate:r,open:r,readonly:r,required:r,reversed:r,selected:r|a,value:a|n}}]);