var Magery=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:false};e[n].call(a.exports,a,a.exports,r);a.loaded=true;return a.exports}r.m=e;r.c=t;r.p="";return r(0)}([function(e,t,r){var n=r(1);var a=r(2);var i=r(6);var u=r(7);function s(e,t,r,n){this.node=e;this.template=t;this.context=r;this.handlers=n}s.prototype.trigger=function(e){var t=Array.prototype.slice.call(arguments,1);return this.applyHandler(e,t)};s.prototype.applyHandler=function(e,t){var r=this.update_queued;this.update_queued=true;this.handlers[e].apply(this,t);if(!r){this.update()}};t.bind=function(e,t,r,n){if(typeof e==="string"){e=document.getElementById(e)}var i=document.getElementById(t).content;var u=new s(e,i,r,n);var o=new a.Patcher(e);var f={bound_template:u,patcher:o,text_buffer:""};u.update=function(){var e=this.context;var t=null;o.start();this.template.render(f,e,t);o.end();this.update_queued=false};u.update();return u};t.initTemplates=function(){var e=document.getElementsByTagName("template");for(var t=0,r=e.length;t<r;t++){var n=e[t].content;i.markTemplatePaths(n);var a=u.compileChildren(n);n.render_children=a;n.render=u.wrapTemplate(a)}};t.BoundTemplate=s},function(e,t){function r(e,t){t=t||new Set;var r=true;var u=new Proxy(e,{get:function(e,n,a){switch(n){case".dirty":return r;case".parents":return t;default:return e[n]}},set:function(e,i,s,f){switch(i){case".dirty":r=s;break;case".parents":t=s;break;default:if(n(s)){a(s,u)}e[i]=s;o(u)}return true},deleteProperty:function(e,t){switch(t){case".dirty":return false;case".parents":return false;default:var r=e[t];if(n(r)){i(r,u)}delete e[t];o(u);return true}}});return u}function n(e){return typeof e==="object"&&e[".parents"]}function a(e,t){return e[".parents"].add(t)}function i(e,t){return e[".parents"].delete(t)}function u(e){return e[".dirty"]}function s(e){if(u(e)){e[".dirty"]=false;for(var t in e){var r=e[t];if(n(r)){s(r)}}}}function o(e){if(!u(e)){e[".dirty"]=true;e[".parents"].forEach(o)}}function f(e,t,i){i=i||new WeakMap;if(typeof e==="object"){if(n(e)){if(!u(e)){return e}}else{if(i.has(e)){e=i.get(e)}else{var s=e;e=r(s);i.set(s,e)}if(t){a(e,t)}}for(var o in e){e[o]=f(e[o],e,i)}}return e}t.isDirty=u;t.toContext=f;t.markClean=s},function(e,t,r){var n=r(3);var a=r(4);var i=r(5);var u=1;var s=3;function o(e,t,r){return(e.tagName===t||e.nodeType===s&&t==="#text")&&e.key==r}function f(e,t,r,n){if(t&&o(t,r,n)){return t}if(n&&e.keymap){return e.keymap[n]||null}return null}function c(e,t,r){while(r){var n=r;r=r.nextSibling;e.removeChild(t,n)}}function l(e){var t=e.attributes;if(e.checked){t=Array.prototype.slice.call(t);t.push({name:"checked",value:e.checked})}return t}function h(e,t){var r=l(t);var n=[];var a,i;for(a=0,i=r.length;a<i;a++){var u=r[a];if(!t.visited_attributes.has(u.name)){n.push(u.name)}}for(a=0,i=n.length;a<i;a++){e.removeAttribute(t,n[a]);if(n[a]==="value"){e.removeEventListener(t,"input",k)}}}function v(e,t){if(!t.handlers){return}for(var r in t.handlers){if(!t.visited_events.has(r)){e.removeEventListener(t,r,t.handlers[r]);delete t.handlers[r]}}}function p(e,t){this.container=e;this.parent=null;this.current=null;this.transforms=t||a}t.Patcher=p;p.prototype.start=function(){this.stepInto(this.container)};p.prototype.stepInto=function(e){e.visited_attributes=new i;e.visited_events=new i;this.parent=e;this.current=e.firstChild};p.prototype.enterTag=function(e,t){var r=f(this.parent,this.current,e,t);if(!r){r=this.transforms.insertElement(this.parent,this.current,e);if(t){if(!this.parent.keymap){this.parent.keymap={}}this.parent.keymap[t]=r;r.key=t}}else if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}this.stepInto(r)};function d(e){return function(t){var r=t.target;var a=r.handlers[e];r.data["event"]=t;var i=a.args.map(function(e){return n.lookup(r.data,e)});r.bound_template.applyHandler(a.name,i);if(r.tagName==="INPUT"){var u=r.getAttribute("type");if(e=="change"){if(u==="checkbox"){g(t)}else if(u==="radio"){b(t)}}else if(e=="input"&&r.hasAttribute("value")){k(t)}}else if(r.tagName==="SELECT"){y(t)}}}function m(e,t){if(!e.handlers){e.handlers={}}if(!e.handlers.hasOwnProperty(t)){var r=d(t);e.handlers[t]={fn:r};e.addEventListener(t,r)}}p.prototype.eventListener=function(e,t,r,a){var i=this.parent;if(i.data!==r){i.data=r}if(i.bound_template!==a){i.bound_template=a}m(i,e);var u=i.handlers[e];if(u.value!==t){u.value=t;var s=t.indexOf("(");var o=t.lastIndexOf(")");u.name=t.substring(0,s);var f=t.substring(s+1,o).split(",");u.args=f.map(function(e){return n.propertyPath(n.trim(e))})}i.visited_events.add(e)};function g(e){var t=e.target;if(t.dataset["managed"]==="true"){t.checked=t.hasAttribute("checked")}}function b(e){var t=e.target;if(t.dataset["managed"]==="true"){var r=t.hasAttribute("checked");if(t.checked!=r){if(t.name){var n=document.getElementsByName(t.name);for(var a=0,i=n.length;a<i;a++){var u=n[a];u.checked=u.hasAttribute("checked")}}else{t.checked=r}}}}function y(e){var t=e.target;if(t.dataset["managed"]==="true"){var r=t.getElementsByTagName("option");for(var n=0,a=r.length;n<a;n++){var i=r[n];i.selected=i.hasAttribute("selected")}}}function k(e){var t=e.target;if(t.dataset["managed"]==="true"){var r=t.getAttribute("value");if(t.value!==r){t.value=r}}}p.prototype.attribute=function(e,t){var r=this.parent;if(r.getAttribute(e)!==t){this.transforms.setAttribute(r,e,t)}r.visited_attributes.add(e)};p.prototype.text=function(e){var t=f(this.parent,this.current,"#text",null);if(!t){t=this.transforms.insertTextNode(this.parent,this.current,e)}else if(t.textContent!==e){this.transforms.replaceText(t,e)}this.current=t.nextSibling};function x(e,t){return e.handlers&&e.handlers[t]&&e.handlers[t].fn}p.prototype.exitTag=function(){c(this.transforms,this.parent,this.current);var e=this.parent;this.parent=e.parentNode;this.current=e.nextSibling;h(this.transforms,e);v(this.transforms,e);if(e.tagName==="INPUT"){var t=e.getAttribute("type");if((t==="checkbox"||t=="radio")&&!x(e,"change")){m(e,"change")}else if(e.hasAttribute("value")&&!x(e,"input")){m(e,"input")}}else if(e.tagName==="SELECT"){m(e,"change")}};p.prototype.skip=function(e,t){var r=f(this.parent,this.current,e,t);if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}this.current=r.nextSibling};p.prototype.end=function(e){c(this.transforms,this.parent,this.current);this.parent=null}},function(e,t){var r=1;var n=3;var a=11;t.isDocumentFragment=function(e){return e.nodeType===a};t.isElementNode=function(e){return e.nodeType===r};t.isTextNode=function(e){return e.nodeType===n};t.eachNode=function(e,t){var r=0;var n=e[0];while(n){var a=n;n=n.nextSibling;t(a,r++,e)}};t.mapNodes=function(e,r){var n=[];t.eachNode(e,function(t,a){n[a]=r(t,a,e)});return n};t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")};t.propertyPath=function(e){return e.split(".").filter(function(e){return e})};t.lookup=function(e,t){var r=e;for(var n=0,a=t.length;n<a;n++){if(r===undefined||r===null){return""}r=r[t[n]]}return r===undefined||r===null?"":r};t.templateTagName=function(e){var t=/^TEMPLATE-([^\s/>]+)/.exec(e.tagName);return t&&t[1].toLowerCase()}},function(e,t){t.insertTextNode=function(e,t,r){var n=document.createTextNode(r);e.insertBefore(n,t);return n};t.replaceText=function(e,t){e.textContent=t;return e};t.replaceChild=function(e,t,r){e.replaceChild(t,r);return t};t.appendChild=function(e,t){e.appendChild(t);return t};t.insertElement=function(e,t,r){var n=document.createElement(r);e.insertBefore(n,t);return n};t.removeChild=function(e,t){e.removeChild(t);return t};t.setAttribute=function(e,t,r){switch(t){case"checked":e.checked=true;break;case"selected":e.selected=true;break;case"value":e.value=r;break;case"autofocus":e.focus();break}e.setAttribute(t,r);return e};t.removeAttribute=function(e,t){switch(t){case"checked":e.checked=false;break;case"selected":e.selected=false;break;case"value":e.value="";break;case"autofocus":e.blur();break}e.removeAttribute(t);return e};t.addEventListener=function(e,t,r){e.addEventListener(t,r,false);return e};t.removeEventListener=function(e,t,r){e.removeEventListener(t,r);return e}},function(e,t){function r(){this.values=[]}r.prototype.add=function(e){this.values.push(e)};r.prototype.has=function(e){return this.values.indexOf(e)!==-1};e.exports=window.Set||r},function(e,t,r){var n=r(3);t.markPath=function(e,t){switch(t.length){case 0:return;case 1:e[t[0]]=true;return;default:for(var r=0,n=t.length-2;r<n;r++){var a=t[r];if(e[a]===true){return}if(e[a]===undefined){e[a]={}}e=e[a]}if(e[t[r]]){e[t[r]]=true}else{var i={};i[t[r+1]]=true;e[t[r]]=i}}};t.mergePaths=function(e,r){for(var n in r){if(e[n]===true){continue}else if(r[n]===true){e[n]=true}else if(!e[n]){e[n]=r[n]}else{if(Object.keys(e[n])[0]==Object.keys(r[n])[0]){t.mergePaths(e[n],r[n])}else{e[n]=true}}}};t.equivalentPathObjects=function(e,r){var n=Object.keys(e);var a=Object.keys(r);if(n.length!==a.length){return false}n.sort();a.sort();for(var i=n.length-1;i>=0;i--){if(n[i]!==a[i]){return false}}for(i=n.length-1;i>=0;i--){var u=n[i];var s=e[u];var o=r[u];if(s===true&&o===true){continue}else if(s===true||o===true){return false}else if(!t.equivalentPathObjects(e[u],r[u])){return false}}return true};t.stringPaths=function(e){var r={};var a=e.match(/{{\s*([^}]+?)\s*}}/g);if(a){a.forEach(function(e){t.markPath(r,n.propertyPath(e.replace(/^{{\s*|\s*}}$/g,"")))})}return r};function a(e,r){var a=false;var i=n.mapNodes(r.childNodes,o);for(var u=0,s=i.length;u<s;u++){var f=i[u];if(!f){a=true;break}t.mergePaths(e,f)}n.eachNode(r.childNodes,function(r,n){var u=i[n];if(u&&Object.keys(u).length===0){r.static=true}else if(a||!t.equivalentPathObjects(u,e)){r.active_paths=u}});return a?false:e}t.elementPaths=function(e){var r={};var i=null;var u;if(e.attributes){for(var s=0,o=e.attributes.length;s<o;s++){var f=e.attributes[s];if(f.name=="data-each"){var c=f.value.split(" in ");if(c.length<2){throw new Error("Badly formed data-each attribute value: "+f.value)}u=n.propertyPath(c[1]);t.markPath(r,u);i=c[0]}if(f.name=="data-if"){u=n.propertyPath(f.value);t.markPath(r,u)}else if(f.name=="data-unless"){u=n.propertyPath(f.value);t.markPath(r,u)}else{t.mergePaths(r,t.stringPaths(f.value))}}}r=a(r,e);if(i){delete r[i]}return r};function i(e){var r={};for(var i=0,u=e.attributes.length;i<u;i++){var s=e.attributes[i];if(s.name==="template"){t.mergePaths(r,t.stringPaths(s.value))}else{t.markPath(r,n.propertyPath(s.value))}}r=a(r,e);return r}function u(e){return false}var s={call:i,children:u};function o(e){if(n.isTextNode(e)){return t.stringPaths(e.textContent)}else{var r=n.templateTagName(e);if(r){var a=s[r];if(!a){throw new Error("Unknown template tag: "+e.tagName)}return a(e)}else if(n.isElementNode(e)||n.isDocumentFragment(e)){return t.elementPaths(e)}}return false}t.markTemplatePaths=function(e){var t=o(e);e.static=t&&Object.keys(t).length===0;e.active_paths=t}},function(e,t,r){var n=r(3);function a(e){var t=e.filter(function(e){return e});var r=t.length;return function(e,n,a,i){var u=-1;while(++u<r){t[u](e,n,a,i)}}}function i(e){if(e.text_buffer){e.patcher.text(e.text_buffer);e.text_buffer=""}}function u(e){var t=e.split(/{{|}}/);var r=t.length;var a=-1;while(++a<r){if(a%2){var i=n.propertyPath(n.trim(t[a]));t[a]=i}}return function(e){var a="";var i=-1;while(++i<r){a+=i%2?n.lookup(e,t[i]):t[i]}return a}}function s(e){var t=e.textContent;var r=u(t);return function(e,t,n,a){e.text_buffer+=r(t)}}function o(e){var r=t.compileChildren(e);var n=null;if(e.dataset.key){n=u(e.dataset.key)}var a={};var s={};for(var o=0,f=e.attributes.length;o<f;o++){var v=e.attributes[o];var p=v.name;if(p=="data-each"||p=="data-if"||p=="data-unless"||p=="data-key"){continue}var d=p.match(/^on(.*)/,d);if(d){var m=d[1];a[m]=v.value}else{s[p]=u(v.value)}}var g=function(t,u,o,f){var c=n?n(u):null;i(t);t.patcher.enterTag(e.tagName,c);for(var l in s){t.patcher.attribute(l,s[l](u))}for(var h in a){t.patcher.eventListener(h,a[h],u,t.bound_template)}r(t,u,o,f);i(t);t.patcher.exitTag()};if(e.dataset.unless){g=c(e,g)}if(e.dataset.if){g=l(e,g)}if(e.dataset.each){g=h(e,g)}return g}function f(e){if(Array.isArray(e)){return e.length>0}return e}function c(e,t){var r=n.propertyPath(e.dataset.unless);return function(e,a,i,u){if(!f(n.lookup(a,r))){t(e,a,i,u)}}}function l(e,t){var r=n.propertyPath(e.dataset.if);return function(e,a,i,u){if(f(n.lookup(a,r))){t(e,a,i,u)}}}function h(e,t){var r=e.dataset.each.split(" in ");var a=r[0];var i=n.propertyPath(r[1]);return function(e,r,u,s){var o=n.lookup(r,i);var f=n.lookup(u,i);var c=o.length;var l=-1;while(++l<c){var h=Object.assign({},r);var v=Object.assign({},u);h[a]=o[l];v[a]=f&&f[l];t(e,h,v,s)}}}function v(e){var r=e.getAttribute("template");if(!r){throw new Error("<template-call> tags must include a 'template' attribute")}var a=u(r);var i=t.compileChildren(e);return function(t,r,u,s){var o=a(r);var f=document.getElementById(o);if(!f){throw new Error("Template not found: '"+o+"'")}var c={};var l={};for(var h=0,v=e.attributes.length;h<v;h++){var p=e.attributes[h].name;if(p!=="template"){var d=n.propertyPath(e.attributes[h].value);c[p]=n.lookup(r,d);l[p]=n.lookup(u,d)}}var m=this;f.content.render_children(t,c,l,function(){i(t,r,u,s)})}}function p(e){if(n.isTextNode(e)){return s(e)}else if(n.isElementNode(e)){var t=n.templateTagName(e);if(t){if(t=="call"){return v(e)}else if(t=="children"){return function(e,t,r,n){n&&n()}}throw new Error("Unkonwn template tag: <template-"+t+">")}return o(e)}return null}t.compileChildren=function(e){return a(n.mapNodes(e.childNodes,p))};t.wrapTemplate=function(e){return function(t,r,n,a){t.patcher.start();e(t,r,n,a);i(t);t.patcher.end()}}}]);