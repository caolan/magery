var Magery=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:false};t[n].call(a.exports,a,a.exports,r);a.loaded=true;return a.exports}r.m=t;r.c=e;r.p="";return r(0)}([function(t,e,r){t.exports={compileTemplates:r(1),Template:r(5)}},function(t,e,r){var n=r(2);var a=r(3);var i=r(4);var s=r(5);function u(t){var e=t.filter(function(t){return t});var r=e.length;return function(t,n,a,i){var s=-1;while(++s<r){e[s](t,n,a,i)}}}function o(t){if(t.text_buffer){t.patcher.text(t.text_buffer);t.text_buffer=""}}function f(t,e){var r=t.split(/{{|}}/);var n=r.length;var i=-1;while(++i<n){if(i%2){var s=a.propertyPath(a.trim(r[i]));r[i]=s}}if(n==1&&!r[0]&&e){return function(){return true}}else if(n==3&&!r[0]&&!r[2]){return function(t){return a.lookup(t,r[1])}}return function(t){var e="";var i=-1;while(++i<n){e+=i%2?a.lookup(t,r[i]):r[i]}return e}}function l(t){var e=t.textContent;var r=f(e);return function(t,e,n,a){t.text_buffer+=r(e)}}function c(t,e,r){return function(n,a,i,s){var u=Object.assign({},n);u.template=t[e];return r(u,a,i,s)}}function h(t,e){var r=b(t,e);var a=null;if(e.dataset.key){a=f(e.dataset.key)}var i={};var u={};for(var l=0,h=e.attributes.length;l<h;l++){var v=e.attributes[l];var g=v.name;if(g=="data-each"||g=="data-if"||g=="data-unless"||g=="data-key"){continue}if(g=="data-template"){u["data-bind"]=f(v.value,false);continue}var y=g.match(/^on(.*)/,y);if(y){var P=y[1];i[P]=v.value}else{u[g]=f(v.value,n.attributes[g]&n.BOOLEAN_ATTRIBUTE)}}var N=e.tagName.toLowerCase();var k=function(s,f,l,c){if(t[N]){var h={};var v={};for(var d in u){h[d]=u[d](f);v[d]=u[d](l)}t[N].render(s,h,v,function(){r(s,f,l,c)});return}var p=a?a(f):null;o(s);s.patcher.enterTag(e.tagName,p);for(var d in u){var m=u[d](f);if(m||!(n.attributes[d]&n.BOOLEAN_ATTRIBUTE)){s.patcher.attribute(d,m)}}for(var g in i){s.patcher.eventListener(g,i[g],f,s.template)}r(s,f,l,c);o(s);s.patcher.exitTag()};if(e.dataset.template){var x=e.dataset.template;if(t[x]){throw new Error("Template '"+x+"' already exists")}k=c(t,x,k);t[x]=new s(x,k)}else{if(e.dataset.unless){k=d(e,k)}if(e.dataset.if){k=p(e,k)}if(e.dataset.each){k=m(e,k)}}return k}function v(t){if(Array.isArray(t)){return t.length>0}return t}function d(t,e){var r=a.propertyPath(t.dataset.unless);return function(t,n,i,s){if(!v(a.lookup(n,r))){e(t,n,i,s)}}}function p(t,e){var r=a.propertyPath(t.dataset.if);return function(t,n,i,s){if(v(a.lookup(n,r))){e(t,n,i,s)}}}function m(t,e){var r=t.dataset.each.split(" in ");var n=r[0];var i=a.propertyPath(r[1]);return function(t,r,s,u){var o=a.lookup(r,i);var f=a.lookup(s,i);var l=o.length;var c=-1;while(++c<l){var h=a.shallowClone(r);var v=a.shallowClone(s);h[n]=o[c];v[n]=f&&f[c];e(t,h,v,u)}}}function g(t,e){if(a.isTextNode(e)){return l(e)}else if(a.isElementNode(e)){if(e.tagName==="TEMPLATE-CHILDREN"){return function(t,e,r,n){n&&n()}}return h(t,e)}return null}function b(t,e){return u(a.mapNodes(e.childNodes,g.bind(null,t)))}t.exports=function(e,r){r=r||{};if(typeof e==="string"){e=document.querySelectorAll(e)}if(e instanceof NodeList){for(var n=0,s=e.length;n<s;n++){t.exports(e[n],r)}}else{if(e.tagName==="TEMPLATE"&&e.content){e=e.content}i.markPaths(e);a.eachNode(e.childNodes,g.bind(null,r))}return r}},function(t,e){var r=e.BOOLEAN_ATTRIBUTE=1;var n=e.USE_PROPERTY=2;e.attributes={allowfullscreen:r,async:r,autofocus:r,autoplay:r,capture:r,checked:r|n,controls:r,default:r,defer:r,disabled:r,formnovalidate:r,hidden:r,itemscope:r,loop:r,multiple:r|n,muted:r|n,novalidate:r,open:r,readonly:r,required:r,reversed:r,selected:r|n,value:n}},function(t,e){var r=1;var n=3;var a=11;e.isDocumentFragment=function(t){return t.nodeType===a};e.isElementNode=function(t){return t.nodeType===r};e.isTextNode=function(t){return t.nodeType===n};e.eachNode=function(t,e){var r=0;var n=t[0];while(n){var a=n;n=n.nextSibling;e(a,r++,t)}};e.mapNodes=function(t,r){var n=[];e.eachNode(t,function(e,a){n[a]=r(e,a,t)});return n};e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};e.propertyPath=function(t){return t.split(".").filter(function(t){return t})};e.lookup=function(t,e){var r=t;for(var n=0,a=e.length;n<a;n++){if(r===undefined||r===null){return""}r=r[e[n]]}return r===undefined||r===null?"":r};e.templateTagName=function(t){var e=/^TEMPLATE-([^\s/>]+)/.exec(t.tagName);return e&&e[1].toLowerCase()};e.shallowClone=function(t){return Object.assign({},t)}},function(t,e,r){var n=r(3);e.markPath=function(t,e){switch(e.length){case 0:return;case 1:t[e[0]]=true;return;default:for(var r=0,n=e.length-2;r<n;r++){var a=e[r];if(t[a]===true){return}if(t[a]===undefined){t[a]={}}t=t[a]}if(t[e[r]]){t[e[r]]=true}else{var i={};i[e[r+1]]=true;t[e[r]]=i}}};e.mergePaths=function(t,r){for(var n in r){if(t[n]===true){continue}else if(r[n]===true){t[n]=true}else if(!t[n]){t[n]=r[n]}else{if(Object.keys(t[n])[0]==Object.keys(r[n])[0]){e.mergePaths(t[n],r[n])}else{t[n]=true}}}};e.equivalentPathObjects=function(t,r){var n=Object.keys(t);var a=Object.keys(r);if(n.length!==a.length){return false}n.sort();a.sort();for(var i=n.length-1;i>=0;i--){if(n[i]!==a[i]){return false}}for(i=n.length-1;i>=0;i--){var s=n[i];var u=t[s];var o=r[s];if(u===true&&o===true){continue}else if(u===true||o===true){return false}else if(!e.equivalentPathObjects(t[s],r[s])){return false}}return true};e.stringPaths=function(t){var r={};var a=t.match(/{{\s*([^}]+?)\s*}}/g);if(a){a.forEach(function(t){e.markPath(r,n.propertyPath(t.replace(/^{{\s*|\s*}}$/g,"")))})}return r};function a(t,r){var a=false;var i=n.mapNodes(r.childNodes,o);for(var s=0,u=i.length;s<u;s++){var f=i[s];if(!f){a=true;break}e.mergePaths(t,f)}n.eachNode(r.childNodes,function(r,n){var s=i[n];if(s&&Object.keys(s).length===0){r.static=true}else if(a||!e.equivalentPathObjects(s,t)){r.active_paths=s}});return a?false:t}e.elementPaths=function(t){var r={};var i=null;var s;if(t.attributes){for(var u=0,o=t.attributes.length;u<o;u++){var f=t.attributes[u];if(f.name=="data-each"){var l=f.value.split(" in ");if(l.length<2){throw new Error("Badly formed data-each attribute value: "+f.value)}s=n.propertyPath(l[1]);e.markPath(r,s);i=l[0]}if(f.name=="data-if"){s=n.propertyPath(f.value);e.markPath(r,s)}else if(f.name=="data-unless"){s=n.propertyPath(f.value);e.markPath(r,s)}else{e.mergePaths(r,e.stringPaths(f.value))}}}r=a(r,t);if(i){delete r[i]}return r};function i(t){var r={};for(var i=0,s=t.attributes.length;i<s;i++){var u=t.attributes[i];if(u.name==="template"){e.mergePaths(r,e.stringPaths(u.value))}else{e.markPath(r,n.propertyPath(u.value))}}r=a(r,t);return r}function s(t){return false}var u={call:i,children:s};function o(t){if(n.isTextNode(t)){return e.stringPaths(t.textContent)}else{var r=n.templateTagName(t);if(r){var a=u[r];if(!a){throw new Error("Unknown template tag: "+t.tagName)}return a(t)}else if(n.isElementNode(t)||n.isDocumentFragment(t)){return e.elementPaths(t)}}return false}e.markPaths=function(t){n.eachNode(t.childNodes,function(t){t.active_paths=o(t);t.static=t.active_paths&&Object.keys(t.active_paths).length===0})}},function(t,e,r){var n=r(6);var a=r(7);function i(t,e){this.render=e;this.name=t;this.handlers={}}i.prototype.bind=function(t){this.handlers=t};i.prototype.patch=function(t,e,r){var i={patcher:new a.Patcher(t,n),template:this,text_buffer:""};this.render(i,e,r)};t.exports=i},function(t,e,r){var n=r(2);e.insertTextNode=function(t,e,r){var n=document.createTextNode(r);t.insertBefore(n,e);return n};e.replaceText=function(t,e){t.textContent=e;return t};e.replaceChild=function(t,e,r){t.replaceChild(e,r);return e};e.appendChild=function(t,e){t.appendChild(e);return e};e.insertElement=function(t,e,r){var n=document.createElement(r);t.insertBefore(n,e);return n};e.removeChild=function(t,e){t.removeChild(e);return e};e.setAttribute=function(t,e,r){if(n.attributes[e]&n.USE_PROPERTY){t[e]=r}t.setAttribute(e,r);return t};e.removeAttribute=function(t,e){if(n.attributes[e]&n.USE_PROPERTY){t[e]=false}t.removeAttribute(e);return t};e.addEventListener=function(t,e,r){t.addEventListener(e,r,false);return t};e.removeEventListener=function(t,e,r){t.removeEventListener(e,r);return t}},function(t,e,r){var n=r(6);var a=r(3);var i=r(8);var s=1;var u=3;function o(t,e,r){return(t.tagName===e||t.nodeType===u&&e==="#text")&&t.key==r}function f(t,e,r,n){if(e&&o(e,r,n)){return e}if(n&&t.keymap){return t.keymap[n]||null}return null}function l(t,e,r){while(r){var n=r;r=r.nextSibling;t.removeChild(e,n)}}function c(t,e){var r=e.attributes;var n=[];var a,i;for(a=0,i=r.length;a<i;a++){var s=r[a];if(!e.visited_attributes.has(s.name)){n.push(s.name)}}for(a=0,i=n.length;a<i;a++){t.removeAttribute(e,n[a]);if(n[a]==="value"){t.removeEventListener(e,"input",y)}}}function h(t,e){if(!e.handlers){return}for(var r in e.handlers){if(!e.visited_events.has(r)){t.removeEventListener(e,r,e.handlers[r]);delete e.handlers[r]}}}function v(t,e){this.transforms=e||n;this.root=t;this.reset()}e.Patcher=v;v.prototype.reset=function(){this.parent=this.root.parentNode;this.current=this.root};v.prototype.stepInto=function(t){t.visited_attributes=new i;t.visited_events=new i;this.parent=t;this.current=t.firstChild};v.prototype.enterTag=function(t,e){var r=f(this.parent,this.current,t,e);if(!r){r=this.transforms.insertElement(this.parent,this.current,t);if(e){if(!this.parent.keymap){this.parent.keymap={}}this.parent.keymap[e]=r;r.key=e}}else if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}this.stepInto(r)};function d(t){return function(e){var r=e.target;var n=r.handlers[t];if(n.name){var i=n.args.map(function(t){if(t.length==1&&t[0]=="event"){return e}return a.lookup(r.data,t)});r.template.handlers[n.name].apply(null,i)}if(r.tagName==="INPUT"){var s=r.getAttribute("type");if(t=="change"){if(s==="checkbox"){m(e)}else if(s==="radio"){g(e)}}else if(t=="input"&&r.hasAttribute("value")){y(e)}}else if(r.tagName==="SELECT"){b(e)}}}function p(t,e){if(!t.handlers){t.handlers={}}if(!t.handlers.hasOwnProperty(e)){var r=d(e);t.handlers[e]={fn:r};t.addEventListener(e,r)}}v.prototype.eventListener=function(t,e,r,n){var i=this.parent;if(i.data!==r){i.data=r}if(i.template!==n){i.template=n}p(i,t);var s=i.handlers[t];if(s.value!==e){s.value=e;var u=e.indexOf("(");var o=e.lastIndexOf(")");s.name=e.substring(0,u);var f=e.substring(u+1,o).split(",");s.args=f.map(function(t){return a.propertyPath(a.trim(t))})}i.visited_events.add(t)};function m(t){var e=t.target;if(e.dataset["managed"]==="true"){e.checked=e.hasAttribute("checked")}}function g(t){var e=t.target;if(e.dataset["managed"]==="true"){var r=e.hasAttribute("checked");if(e.checked!=r){if(e.name){var n=document.getElementsByName(e.name);for(var a=0,i=n.length;a<i;a++){var s=n[a];s.checked=s.hasAttribute("checked")}}else{e.checked=r}}}}function b(t){var e=t.target;if(e.dataset["managed"]==="true"){var r=e.getElementsByTagName("option");for(var n=0,a=r.length;n<a;n++){var i=r[n];i.selected=i.hasAttribute("selected")}}}function y(t){var e=t.target;if(e.dataset["managed"]==="true"){var r=e.getAttribute("value");if(e.value!==r){e.value=r}}}v.prototype.attribute=function(t,e){var r=this.parent;if(r.getAttribute(t)!==e){this.transforms.setAttribute(r,t,e)}r.visited_attributes.add(t)};v.prototype.text=function(t){var e=f(this.parent,this.current,"#text",null);if(!e){e=this.transforms.insertTextNode(this.parent,this.current,t)}else if(e.textContent!==t){this.transforms.replaceText(e,t)}this.current=e.nextSibling};function P(t,e){return t.handlers&&t.handlers[e]&&t.handlers[e].fn}v.prototype.exitTag=function(){l(this.transforms,this.parent,this.current);var t=this.parent;this.parent=t.parentNode;this.current=t.nextSibling;c(this.transforms,t);h(this.transforms,t);if(t.tagName==="INPUT"){var e=t.getAttribute("type");if((e==="checkbox"||e=="radio")&&!P(t,"change")){p(t,"change")}else if(t.hasAttribute("value")&&!P(t,"input")){p(t,"input")}}else if(t.tagName==="SELECT"){p(t,"change")}};v.prototype.skip=function(t,e){var r=f(this.parent,this.current,t,e);if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}this.current=r.nextSibling}},function(t,e){function r(){this.values=[]}r.prototype.add=function(t){this.values.push(t)};r.prototype.has=function(t){return this.values.indexOf(t)!==-1};t.exports=window.Set||r}]);